#:import chex kivy.utils.get_color_from_hex

NavigationWindowHolder:
	
	nav_drawer : nav_drawer
	window : window
	
	canvas.before:
		Rectangle:
			source : "quiz background.jpeg"
			size : self.size
			pos : self.pos
	
	MainWindow:
		id : window
		
	MDNavigationDrawer:
		id: nav_drawer
		radius: (0, 16, 16, 0)
		size_hint : 0.75 , 1
		padding : dp(0)
		md_bg_color :  chex("#5A5B63")
		
		MDScrollView:
			MDBoxLayout:
				adaptive_height : True
				orientation : "vertical"
				padding : dp(6)
				
				Widget:
					size_hint  : 1 , None
					height : dp(10)
				CircleImage :
					id : logo_displayer
					size_hint  : 1 , None
					height : dp(210)
					
				Widget:
					size_hint  : 1 , None
					height : min(root.size) * 0.1
				MDRaisedButton:
					text : "HOME"
					size_hint : 1, min(root.size) * 0.05
					font_size :  min(root.size) * 0.05
					md_bg_color : chex("B80D0D")
					font_name : "reg_font"
					
					on_release:
						window.current = "home"
						nav_drawer.set_state("close")
					
				Widget:
					size_hint  : 1 , None
					height : min(root.size) * 0.03
				MDRaisedButton:
					text : "DEVELOPER"
					size_hint : 1, min(root.size) * 0.05
					font_size :  min(root.size) * 0.05
					md_bg_color : chex("B80D0D")
					font_name : "reg_font"
					
					on_release:
						window.current = "dev"
						nav_drawer.set_state("close")
				
				Widget:
					size_hint  : 1 , None
					height : min(root.size) * 0.03
				MDRaisedButton:
					text : "ABOUT"
					size_hint : 1, min(root.size) * 0.05
					font_size :  min(root.size) * 0.05
					md_bg_color : chex("B80D0D")
					font_name : "reg_font"
					
					on_release:
						window.current = "about"
						nav_drawer.set_state("close")
					

<AboutScreen>:
	FloatLayout:
		
		MDFloatingActionButton:
			icon : "account-school-outline"
			pos_hint : { "x" : 0.05 , "center_y" : 0.95 }
			icon_size : min(root.size) * 0.1
			md_bg_color : chex("038A18")
			
			on_release:
				root.parent.parent.nav_drawer.set_state("open")
		
		
		Label:
			size_hint  : 1 , 1
			text : "PROGRAMMING QUIZ APP\n\nProgramming quizzes play a pivotal role in the learning and mastery of programming skills. Serving as effective assessment tools, these quizzes evaluate learners' comprehension of programming concepts and syntax, offering a rapid gauge of their understanding. Beyond assessment, regular quizzes contribute to information retention, reinforcing learning and consolidating knowledge in the learners' memory through the process of recall. This active engagement ensures a more profound understanding of the material, as active learning often proves more effective than passive methods. Additionally, quizzes serve as diagnostic tools by pinpointing areas of weakness or knowledge gaps, enabling learners to focus their efforts on specific topics that require further attention. The adaptability of quizzes to different skill levels ensures a personalized learning experience, catering to individuals with varying degrees of expertise."
			halign : "center"
			font_size : min(root.size) * 0.045
			font_name : "reg_font"
			text_size: self.width, None
			height : self.texture_size[1]
				
			
				
<DeveloperScreen>:
	FloatLayout:
		
		MDFloatingActionButton:
			icon : "account-school-outline"
			pos_hint : { "x" : 0.05 , "center_y" : 0.95 }
			icon_size : min(root.size) * 0.1
			md_bg_color : chex("038A18")
			
			on_release:
				root.parent.parent.nav_drawer.set_state("open")
		
		
		CircleImage:
			size_hint : 0.65 , 0.25
			pos_hint : { "center_x" : 0.5 , "top" : 0.85 }
		
		Information:
			size_hint : 0.65, None
			pos_hint : { "center_x" : 0.5 , "top" : 0.6 }


<Information@MDBoxLayout>:
	adaptive_height: True
	orientation: "vertical"
	
	
	Widget:
		size_hint  : 1 , None
		height : min(root.size) * 0.1
	Label:
		size_hint  : 1 , None
		text : "- DEVELOPER -"
		halign : "center"
		font_size : min(root.size) * 0.08
		font_name : "title_font"
	Widget:
		size_hint  : 1 , None
		height : min(root.size) * 0.03
	Label:
		size_hint  : 1 , None
		text : "Rubelyn M. Ricarte"
		halign : "center"
		font_size : min(root.size) * 0.05
		font_name : "reg_font"
	Widget:
		size_hint  : 1 , None
		height : min(root.size) * 0.15
	Label:
		size_hint  : 1 , None
		text : "- SKILLS -"
		halign : "center"
		font_size : min(root.size) * 0.08
		font_name : "title_font"
	Widget:
		size_hint  : 1 , None
		height : min(root.size) * 0.05
	Label:
		size_hint  : 1 , None
		text : "Java\nAndroid Studio\nWeb Development\nAndroid Application"
		halign : "center"
		font_size : min(root.size) * 0.05
		font_name : "reg_font"
		text_size: self.width, None
		height : self.texture_size[1]

<CircleImage@BoxLayout>:
	orientation: 'vertical'
	FloatLayout:
		canvas:
			Color:
				rgb : 1,1,1
			Ellipse:
				pos: self.pos
				size: self.size 
				angle_start: 0
				angle_end: 360
				source: "account pic.jpg"

<Test>:
	size_hint : 1 , None
	height : 600
	orientation : "vertical"
	spacing : dp(5)
	padding : dp(10)
	
	canvas.before:
		Color:
			rgba : chex("#0091EA")
		RoundedRectangle:
			pos : self.pos
			size : self.size
			radius : (24,)
	
	
	Label:
		size_hint : 1 , 0.4
		text : root.question
		text_size : self.width - dp(10) , None
		font_size : min(root.size) * 0.11
		halign : "center"
	
	Button :
		text : root.ans1
		size_hint : 1 , 0.125
		disabled : root.selections[0]
		
		on_release:
			root.selectAnswer(0)
	
	Button :
		text : root.ans2
		size_hint : 1 , 0.125
		disabled : root.selections[1]
	
		on_release:
			root.selectAnswer(1)
			
	Button :
		text : root.ans3
		size_hint : 1 , 0.125
		disabled : root.selections[2]
		
		on_release:
			root.selectAnswer(2)
			
	
	Button :
		text : root.ans4
		size_hint : 1 , 0.125
		disabled : root.selections[3]
		
		on_release:
			root.selectAnswer(3)
	


<Reviewer>:
	holder : holder
	
	BoxLayout:
		orientation : "vertical"
		
		BoxLayout:
			size_hint : 1 , 0.1
			padding : dp(10)
			spacing : dp(5)
			
			Label:
				canvas.before:
					Color:
						rgba : chex("#4CAF50")
					RoundedRectangle:
						pos : self.pos
						size : self.size
						radius : (24,)
				text : root.correctText
				font_size :  min(root.size) * 0.05
			
			Label:
				canvas.before:
					Color:
						rgba : chex("#673AB7")
					RoundedRectangle:
						pos : self.pos
						size : self.size
						radius : (24,)
				text : root.ratingText
				font_size :  min(root.size) * 0.05
		
		ScrollView:
			size_hint : 1, 0.82
			
			GridLayout:
				id : holder
				size_hint : 1 , None
				height : self.minimum_height
				cols : 1
				padding : dp(20)
				spacing : dp(10)
				
				Test:
				
				Test:
				
				Test:
					
				Test:
				
				Test:
		
		Button:
			text : root.verText
			size_hint : 0.9 , 0.08
			pos_hint : { "center_x" : 0.5 }
			font_size :  min(root.size) * 0.08
			background_color : "green" if root.verText == "S U B M I T" else "red"
			
			on_release:
				root.submit()

<HomePage>:
	FloatLayout:
		
		MDFloatingActionButton:
			icon : "account-school"
			pos_hint : { "x" : 0.05 , "center_y" : 0.95 }
			icon_size : min(root.size) * 0.1
			md_bg_color : chex("038A18")
			
			on_release:
				root.parent.parent.nav_drawer.set_state("open")
		
		Label:
			text : "MY PROGRAM\nQUIZ APP"
			pos_hint : { "center_x" : 0.5 , "center_y" : 0.7 }
			font_size :  min(root.size) * 0.13
			halign : "center"
			font_name : "title_font"
			
		MDRaisedButton:
			text : "S T A R T"
			pos_hint : { "center_x" : 0.5 , "center_y" : 0.5 }
			size_hint : 0.5 , 0.05
			font_size :  min(root.size) * 0.05
			md_bg_color : chex("D27300")
			font_name : "reg_font"
			
			on_release:
				root.parent.current = "test"
			
		MDRaisedButton:
			text : "C L O S E"
			pos_hint : { "center_x" : 0.5 , "center_y" : 0.42 }
			size_hint : 0.5 , 0.05
			font_size :  min(root.size) * 0.05
			md_bg_color : chex("B80D0D")
			font_name : "reg_font"
			
			on_release:
				app.stop()
			
			
			