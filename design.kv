#:import chex kivy.utils.get_color_from_hex

NavigationWindowHolder:
	
	nav_drawer : nav_drawer
	window : window
	
	canvas.before:
		Rectangle:
			source : "quiz background.jpeg"
			size : self.size
			pos : self.pos
	
	MainWindow:
		id : window
		
	MDNavigationDrawer:
		id: nav_drawer
		radius: (0, 16, 16, 0)
		size_hint : 0.75 , 1
		padding : dp(0)
		md_bg_color :  chex("#5A5B63")
		
		MDScrollView:
			MDBoxLayout:
				adaptive_height : True
				orientation : "vertical"
				padding : dp(6)
				
				Widget:
					size_hint  : 1 , None
					height : dp(10)
				CircleImage :
					id : logo_displayer
					size_hint  : 1 , None
					height : dp(210)
					
				Widget:
					size_hint  : 1 , None
					height : min(root.size) * 0.1
				MDRaisedButton:
					text : "HOME"
					size_hint : 1, min(root.size) * 0.05
					font_size :  min(root.size) * 0.05
					md_bg_color : chex("B80D0D")
					font_name : "reg_font"
					
					on_release:
						window.current = "home"
						nav_drawer.set_state("close")
					
				Widget:
					size_hint  : 1 , None
					height : min(root.size) * 0.03
				MDRaisedButton:
					text : "DEVELOPER"
					size_hint : 1, min(root.size) * 0.05
					font_size :  min(root.size) * 0.05
					md_bg_color : chex("B80D0D")
					font_name : "reg_font"
					
					on_release:
						window.current = "dev"
						nav_drawer.set_state("close")
				
				Widget:
					size_hint  : 1 , None
					height : min(root.size) * 0.03
				MDRaisedButton:
					text : "ABOUT"
					size_hint : 1, min(root.size) * 0.05
					font_size :  min(root.size) * 0.05
					md_bg_color : chex("B80D0D")
					font_name : "reg_font"
					
					on_release:
						window.current = "about"
						nav_drawer.set_state("close")
					

<AboutScreen>:
	FloatLayout:
		
		MDFloatingActionButton:
			icon : "account-school-outline"
			pos_hint : { "x" : 0.05 , "center_y" : 0.95 }
			icon_size : min(root.size) * 0.1
			md_bg_color : chex("038A18")
			
			on_release:
				root.parent.parent.nav_drawer.set_state("open")
		
		
		Label:
			size_hint  : 1 , 1
			text : "PROGRAMMING QUIZ APP\n\nProgramming quizzes play a pivotal role in the learning and mastery of programming skills. Serving as effective assessment tools, these quizzes evaluate learners' comprehension of programming concepts and syntax, offering a rapid gauge of their understanding. Beyond assessment, regular quizzes contribute to information retention, reinforcing learning and consolidating knowledge in the learners' memory through the process of recall. This active engagement ensures a more profound understanding of the material, as active learning often proves more effective than passive methods. Additionally, quizzes serve as diagnostic tools by pinpointing areas of weakness or knowledge gaps, enabling learners to focus their efforts on specific topics that require further attention. The adaptability of quizzes to different skill levels ensures a personalized learning experience, catering to individuals with varying degrees of expertise."
			halign : "center"
			font_size : min(root.size) * 0.045
			font_name : "reg_font"
			text_size: self.width, None
			height : self.texture_size[1]
				
			
				
<DeveloperScreen>:
	FloatLayout:
		
		MDFloatingActionButton:
			icon : "account-school-outline"
			pos_hint : { "x" : 0.05 , "center_y" : 0.95 }
			icon_size : min(root.size) * 0.1
			md_bg_color : chex("038A18")
			
			on_release:
				root.parent.parent.nav_drawer.set_state("open")
		
		
		CircleImage:
			size_hint : 0.65 , 0.25
			pos_hint : { "center_x" : 0.5 , "top" : 0.85 }
		
		Information:
			size_hint : 0.65, None
			pos_hint : { "center_x" : 0.5 , "top" : 0.6 }


<Information@MDBoxLayout>:
	adaptive_height: True
	orientation: "vertical"
	
	
	Widget:
		size_hint  : 1 , None
		height : min(root.size) * 0.1
	Label:
		size_hint  : 1 , None
		text : "- DEVELOPER -"
		halign : "center"
		font_size : min(root.size) * 0.08
		font_name : "title_font"
	Widget:
		size_hint  : 1 , None
		height : min(root.size) * 0.03
	Label:
		size_hint  : 1 , None
		text : "Rubelyn M. Ricarte"
		halign : "center"
		font_size : min(root.size) * 0.05
		font_name : "reg_font"
	Widget:
		size_hint  : 1 , None
		height : min(root.size) * 0.15
	Label:
		size_hint  : 1 , None
		text : "- SKILLS -"
		halign : "center"
		font_size : min(root.size) * 0.08
		font_name : "title_font"
	Widget:
		size_hint  : 1 , None
		height : min(root.size) * 0.05
	Label:
		size_hint  : 1 , None
		text : "Java\nAndroid Studio\nWeb Development\nAndroid Application"
		halign : "center"
		font_size : min(root.size) * 0.05
		font_name : "reg_font"
		text_size: self.width, None
		height : self.texture_size[1]

<CircleImage@BoxLayout>:
	orientation: 'vertical'
	FloatLayout:
		canvas:
			Color:
				rgb : 1,1,1
			Ellipse:
				pos: self.pos
				size: self.size 
				angle_start: 0
				angle_end: 360
				source: "account pic.jpg"

<SelectionButton@MDFillRoundFlatButton>:
	size_hint : 0.2 , 1
	md_bg_color : chex("#D27300") 
	md_bg_color_disabled : chex("#038A18")

<SelectionLabel@Label>:
	size_hint : 0.8 , 1
	font_name : "reg_font"

<Test>:
	size_hint : 1 , None
	height : 800
	orientation : "vertical"
	spacing : dp(5)
	padding : dp(10)
	
	canvas.before:
		Color:
			rgba : chex("#0091EA")
		RoundedRectangle:
			pos : self.pos
			size : self.size
			radius : (24,)
	
	
	Label:
		size_hint : 1 , 0.4
		text : root.question
		text_size : self.width - dp(10) , None
		font_size : min(root.size) * 0.10
		halign : "center"
		font_name : "reg_font"
		canvas.before:
			Color:
				rgba : chex("#5A5B63")
			RoundedRectangle:
				pos : self.pos
				size : self.size
				radius : (min(self.size) * 0.1,)
	
	MDBoxLayout:
		size_hint : 1 , 0.125
		
		SelectionButton :
			disabled : root.selections[0] 
			on_release:
				root.selectAnswer(0)
		
		SelectionLabel:
			text_size : self.width - (min(root.size) * 0.15) , None
			font_size : min(root.size) * 0.075
			color : "white"  if root.selections[0] else "black"
			text : root.ans1
	
	MDBoxLayout:
		size_hint : 1 , 0.125
		
		SelectionButton :
			disabled : root.selections[1]
			on_release:
				root.selectAnswer(1)
		
		SelectionLabel:
			text_size : self.width - (min(root.size) * 0.15) , None
			font_size : min(root.size) * 0.075
			color : "white"  if root.selections[1] else "black"
			text : root.ans2
			
	MDBoxLayout:
		size_hint : 1 , 0.125
		
		SelectionButton :
			disabled : root.selections[2]	 
			on_release:
				root.selectAnswer(2)
		
		SelectionLabel:
			text_size : self.width - (min(root.size) * 0.15) , None
			font_size : min(root.size) * 0.075
			color : "white"  if root.selections[2] else "black"
			text : root.ans3
			
	MDBoxLayout:
		size_hint : 1 , 0.125
		
		SelectionButton :
			disabled : root.selections[3]
			on_release:
				root.selectAnswer(3)
		
		SelectionLabel:
			text_size : self.width - (min(root.size) * 0.15) , None
			font_size : min(root.size) * 0.075
			color : "white"  if root.selections[3] else "black"
			text : root.ans4
			
	

<CorrectCircularView@MDFloatingActionButton>:
	md_bg_color : "red"
	size_hint : 0.2 , 1
	
<Reviewer>:
	holder : holder
	corrected_view : corrected_view
	
	BoxLayout:
		orientation : "vertical"
		spacing : dp(3)
		
		BoxLayout:
			size_hint : 1 , 0.1
			padding : dp(10)
			spacing : dp(5)
			
			BoxLayout:
				id : corrected_view
				size_hint : 0.8 , 1
				spacing : dp(5)
				padding : dp(5)
				canvas.before:
					Color:
						rgba : chex("#5A5B63")
					RoundedRectangle:
						pos: self.pos
						size : self.size
						radius : (min(root.size) * 0.05,)
				
				CorrectCircularView:
					
				CorrectCircularView:
					
				CorrectCircularView:
					
				CorrectCircularView:
					
				CorrectCircularView:
					
				
			Label:
				size_hint : 0.2 , 1
				text : root.ratingText
				color : "black"
				font_name : "title_font"
				font_size : min(root.size) * 0.05
				
				canvas.before:
					Color:
						rgba : chex("#D27300")
					RoundedRectangle:
						pos : self.pos
						size : self.size
						radius : ( min(self.size) * 0.1 , )
		
		ScrollView:
			size_hint : 1, 0.82
			
			GridLayout:
				id : holder
				size_hint : 1 , None
				height : self.minimum_height
				cols : 1
				padding : dp(20)
				spacing : dp(20)
				
				Test:
				
				Test:
				
				Test:
					
				Test:
				
				Test:
		
		BoxLayout:
			padding : dp(5)
			size_hint : 1 , 0.08
			
			MDRaisedButton:
				text : root.verText
				size_hint : 1 , 1
				font_name : "title_font"
				font_size :  min(root.size) * 0.08
				md_bg_color : "green" if root.verText == "S U B M I T" else "red"
				
				on_release:
					root.submit()

<HomePage>:
	MDFloatLayout:
		
		MDFloatingActionButton:
			icon : "account-school"
			pos_hint : { "x" : 0.05 , "center_y" : 0.95 }
			icon_size : min(root.size) * 0.1
			md_bg_color : chex("038A18")
			
			on_release:
				root.parent.parent.nav_drawer.set_state("open")
		
		Label:
			text : "MY PROGRAM\nQUIZ APP"
			pos_hint : { "center_x" : 0.5 , "center_y" : 0.7 }
			font_size :  min(root.size) * 0.13
			halign : "center"
			font_name : "title_font"
			
		MDFillRoundFlatButton:
			text : "S T A R T"
			pos_hint : { "center_x" : 0.5 , "center_y" : 0.5 }
			size_hint : 0.5 , 0.05
			font_size :  min(root.size) * 0.05
			md_bg_color : chex("D27300")
			font_name : "reg_font"
			
			on_release:
				root.parent.current = "test"
			
		MDFillRoundFlatButton:
			text : "C L O S E"
			pos_hint : { "center_x" : 0.5 , "center_y" : 0.42 }
			size_hint : 0.5 , 0.05
			font_size :  min(root.size) * 0.05
			md_bg_color : chex("B80D0D")
			font_name : "reg_font"
			
			on_release:
				app.stop()
			
			
			